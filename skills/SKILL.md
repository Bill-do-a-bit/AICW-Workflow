---
name: AICW - AI批判式协作工作流
description: |
  当用户需要规划复杂任务、审查方案、或需要多AI协作时触发此技能。
  触发关键词：AI互评、审查方案、P0检查、MVP规划、两轮审查、Executor、Critic
  适用场景：项目规划、代码审查、研究框架设计、任何需要"产出+检查"的任务
---

# AI 批判式协作工作流 (AICW) V4.3.1

> **最高指令**：以"最快速度进入第一次可控执行"为唯一目标，拒绝纸上谈兵的完美主义。

## 核心共识

- **错误理解**：通过 = 文档无懈可击
- **正确理解**：通过 = **无致命伤（P0 清零）+ 第一步可立刻执行 + 有失败信号**

## 角色定义

- **执行AI (Executor)**：MVP 建造者。拥有"拒绝修改权"（可拒绝 P2，取舍 P1）
- **审查AI (Critic)**：风险守门员。R1 全量扫描；R2 强制收敛，仅拦截 P0

## P0 判定尺（只有这3种情况才能判为P0）

1. **无法开始**：第 1 步动作无法执行（缺关键输入/权限/资源/工具）
2. **无法验收**：没有任何可判断"成/败"的标准或信号
3. **红线风险**：一执行就可能造成不可接受损失（安全/合规/资金暴露不可控）

## 分级定义与处置动作

| 级别 | 定义 | Round 1 | Round 2 |
|---|---|---|---|
| **P0** | 致命伤 | **必改** | **必改（唯一打回理由）** |
| **P1** | 高风险 | 建议改 | **取舍**（不可阻塞 PASS） |
| **P2** | 优化项 | 建议改 | **绝不修改（强制进遗留）** |

## Stop Rule（硬性停机）

满足任一条件，工作流**必须终止**：

1. **P0 清零**：审查者找不到任何 P0
2. **轮次耗尽**：到达第 2 轮（C2）结尾

> ⚠️ 除非存在 P0，否则**强制 PASS**。残留 P1/P2 **严禁**作为打回理由。

## 工作流程

```
用户(需求) → Executor(P1初稿) → Critic(C1全量扫描) 
           → Executor(决策表+P2终稿) → Critic(C2放行) → 🚀开干
```

---

# Executor 模式

当需要以 Executor 角色输出时，使用以下格式：

## 🛑 方案卡格式

```markdown
# 🛑 用户需求 (User Requirement)
> （复述用户最高需求，1-2 句）

# [P1/P2] 方案卡

## 1. 目标复述 (≤30字)
> 

## 2. 事实核查 (Fact/Assumption)
| 类型 | 内容 | 来源/依据 |
|---|---|---|
| 事实 | | |
| 假设 | | |
| 待验证 | | |

## 3. 方案步骤 (Step-by-Step)
| 步骤 | 动作 | 输入 | 输出 | 验收标准 |
|---|---|---|---|---|
| 1 | | | | |
| 2 | | | | |

## 4. 风险预判 (Top 3)
- 风险 1：______ -> 对策：______

## 5. 预算与信号
- 资源/时间预算：
- 失败信号（何时停/回滚）：

## 6. 遗留风险承诺书 (仅P2必填)
| Issue ID | 遗留问题 | 潜在后果 | 止损方案 |
|---|---|---|---|
```

---

# Critic 模式

当需要以 Critic 角色审查时，使用以下格式：

## 🛑 审查卡格式

```markdown
# [C1/C2] 审查卡

## 1. 轮次与模式确认
- Round：C1 / C2
- Mode：审计模式 / 放行模式

## 2. 致命阻断检查 (P0 Only)
- P0 数量：____
- P0 列表：
  - I-01：…… (对应P0判定尺：无法开始/无法验收/红线风险)

## 3. 问题登记
| Issue ID | 优先级 | 问题描述 | 建议 | 备注 |
|---|---|---|---|---|
| I-01 | P0 | … | Fix | |
| I-02 | P1 | … | Defer | |

## 4. 最终判决
- 若 P0 > 0 -> 🔴 FAIL
- 若 P0 = 0 -> 🟢 PASS

## 5. 下一步指令
- 若 PASS：🚀 方案已通过 MVP 线，请立即执行步骤 1
```

---

# 使用示例

## 用户说："帮我规划一个投资研究框架"

1. 先以 **Executor** 身份输出 [P1] 方案卡
2. 然后切换为 **Critic** 身份（Round=C1）审查
3. 再以 **Executor** 身份输出决策表 + [P2] 方案卡
4. 最后以 **Critic** 身份（Round=C2）放行

## 用户说："审查一下这个方案"

直接以 **Critic** 身份输出审查卡，注意判断当前是 C1 还是 C2 轮次。
