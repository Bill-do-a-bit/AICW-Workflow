# AI 批判式协作工作流 (AICW) - 执行手册

> **版本**：V4.3.1  
> **最高指令**：以"最快速度进入第一次可控执行"为唯一目标，拒绝纸上谈兵的完美主义。

---

## 0) 核心共识：什么是"通过"？

- **错误理解**：通过 = 文档无懈可击、DoD 全绿。
- **正确理解**：通过 = **无致命伤（P0 清零）+ 第一步可立刻执行 + 有失败信号**。

---

## 1) 角色定义

- **执行AI (Executor)**：MVP 建造者。拥有"拒绝修改权"（可拒绝 P2，取舍 P1）。
- **审查AI (Critic)**：风险守门员。R1 全量扫描；R2 强制收敛，仅拦截 P0。

---

## 2) 优先级定义（硬逻辑）+ 处置动作

### 2.1 P0 判定尺（P0 只能落在以下 3 类之一）

满足任意一条才允许判为 P0（否则只能是 P1/P2）：

1. **无法开始**：第 1 步动作无法执行（缺关键输入/权限/资源/工具）。
2. **无法验收**：没有任何可判断"成/败"的标准或信号。
3. **红线风险**：一执行就可能造成不可接受损失（安全/合规/资金暴露不可控）。

### 2.2 分级定义与处置动作

| 级别 | 定义（Blocker?） | Round 1 处置 | Round 2 处置 |
|---|---|---|---|
| **P0** | 致命伤（满足 P0 判定尺之一） | **必改** | **必改（唯一打回理由）** |
| **P1** | 高风险：能跑但高概率失败/效果差 | 建议改 | **取舍**（不可阻塞 PASS） |
| **P2** | 优化项：更好、更美、更全 | 建议改 | **绝不修改（强制进遗留）** |

> 备注：P1 中若属于"高概率失败"，必须标注为 **P1-H**，Executor 可不做重构，但必须提供"最小缓解动作"（监控/兜底/回滚）。

---

## 3) Stop Rule（硬性停机规则）

满足任一条件，工作流**必须终止**并进入执行阶段：

1. **P0 清零**：审查者找不到任何 P0。
2. **轮次耗尽**：到达第 2 轮（C2）结尾。  
   - 除非存在 P0，否则 **强制 PASS**。  
   - 所有残留 P1/P2 **严禁**作为打回理由，只能记入"遗留风险"。

---

## 4) DoD（通过线：MVP 起跑线）

方案要算 **PASS**，只需满足 3 条红线（缺任一条即 FAIL）：

| 维度 | 红线（Fail if not met） |
|---|---|
| **方向** | 目标与用户需求一致 |
| **可执行** | 第 1 步动作明确，输入/输出闭环 |
| **风险** | **P0 清零** + 明确失败信号（何时停/回滚） |

---

## 5) 交互流程（固定两轮）

```
1) Executor 输出 **P1 初稿**
2) Critic 输出 **C1（Round=C1）**
3) Executor 输出 **E1 决策表 + P2 最终稿**
4) Critic 输出 **C2（Round=C2）** → PASS 后立刻执行 Step 1
```

---

## 6) 流程图

```
你(需求) → Executor(P1初稿) → Critic(C1全量扫描) 
         → Executor(决策表+P2终稿) → Critic(C2放行) → 🚀开干
```
